var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&l(e,n,t[n]);return e},s=(e,r)=>t(e,n(r));import{n as c,aQ as d,h as u,aO as p,aS as m,V as g,cl as h,K as f,b8 as b,l as v,b2 as C,bA as x,aP as y,_ as $,r as S,A as E,t as w,v as O,w as j,cm as R,x as k,z as N,aZ as I,ck as P,o as H,bp as M,s as z,bv as A,bw as B,bx as _,bz as T,aN as L,b7 as D,aR as W,I as X,u as F,bX as q,ct as K,a_ as G,F as V,aX as Y,E as Q,cu as U,b1 as Z,j as J,H as ee,N as te,B as ne,bb as re,D as oe}from"./index-2823d128.js";import{i as ae}from"./use-immer.module-213406a4.js";import{R as le}from"./index-1ed688b1.js";import{u as ie}from"./index-4aefaa2e.js";import{S as se}from"./index-576a367d.js";import{P as ce}from"./index-998aa9c2.js";import{I as de}from"./index-958d2050.js";var ue=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.forceRender,o=e.className,a=e.style,l=e.children,i=e.isActive,s=e.role,m=c.useState(i||r),g=d(m,2),h=g[0],f=g[1];return c.useEffect((function(){(r||i)&&f(!0)}),[r,i]),h?c.createElement("div",{ref:t,className:u("".concat(n,"-content"),p(p({},"".concat(n,"-content-active"),i),"".concat(n,"-content-inactive"),!i),o),style:a,role:s},c.createElement("div",{className:"".concat(n,"-content-box")},l)):null}));ue.displayName="PanelContent";var pe=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],me=c.forwardRef((function(e,t){var n=e.showArrow,r=void 0===n||n,o=e.headerClass,a=e.isActive,l=e.onItemClick,i=e.forceRender,s=e.className,d=e.prefixCls,b=e.collapsible,v=e.accordion,C=e.panelKey,x=e.extra,y=e.header,$=e.expandIcon,S=e.openMotion,E=e.destroyInactivePanel,w=e.children,O=m(e,pe),j="disabled"===b,R="header"===b,k="icon"===b,N=null!=x&&"boolean"!=typeof x,I=function(){null==l||l(C)},P="function"==typeof $?$(e):c.createElement("i",{className:"arrow"});P&&(P=c.createElement("div",{className:"".concat(d,"-expand-icon"),onClick:["header","icon"].includes(b)?I:void 0},P));var H=u(p(p(p({},"".concat(d,"-item"),!0),"".concat(d,"-item-active"),a),"".concat(d,"-item-disabled"),j),s),M={className:u(o,p(p(p({},"".concat(d,"-header"),!0),"".concat(d,"-header-collapsible-only"),R),"".concat(d,"-icon-collapsible-only"),k)),"aria-expanded":a,"aria-disabled":j,onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==f.ENTER&&e.which!==f.ENTER||I()}};return R||k||(M.onClick=I,M.role=v?"tab":"button",M.tabIndex=j?-1:0),c.createElement("div",g({},O,{ref:t,className:H}),c.createElement("div",M,r&&P,c.createElement("span",{className:"".concat(d,"-header-text"),onClick:"header"===b?I:void 0},y),N&&c.createElement("div",{className:"".concat(d,"-extra")},x)),c.createElement(h,g({visible:a,leavedClassName:"".concat(d,"-content-hidden")},S,{forceRender:i,removeOnLeave:E}),(function(e,t){var n=e.className,r=e.style;return c.createElement(ue,{ref:t,prefixCls:d,className:n,style:r,isActive:a,forceRender:i,role:v?"tabpanel":void 0},w)})))})),ge=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];function he(e,t,n){return Array.isArray(e)?function(e,t){var n=t.prefixCls,r=t.accordion,o=t.collapsible,a=t.destroyInactivePanel,l=t.onItemClick,i=t.activeKey,s=t.openMotion,d=t.expandIcon;return e.map((function(e,t){var u=e.children,p=e.label,h=e.key,f=e.collapsible,b=e.onItemClick,v=e.destroyInactivePanel,C=m(e,ge),x=String(null!=h?h:t),y=null!=f?f:o,$=null!=v?v:a,S=!1;return S=r?i[0]===x:i.indexOf(x)>-1,c.createElement(me,g({},C,{prefixCls:n,key:x,panelKey:x,isActive:S,accordion:r,openMotion:s,expandIcon:d,header:p,collapsible:y,onItemClick:function(e){"disabled"!==y&&(l(e),null==b||b(e))},destroyInactivePanel:$}),u)}))}(e,n):b(t).map((function(e,t){return function(e,t,n){if(!e)return null;var r=n.prefixCls,o=n.accordion,a=n.collapsible,l=n.destroyInactivePanel,i=n.onItemClick,s=n.activeKey,d=n.openMotion,u=n.expandIcon,p=e.key||String(t),m=e.props,g=m.header,h=m.headerClass,f=m.destroyInactivePanel,b=m.collapsible,v=m.onItemClick,C=!1;C=o?s[0]===p:s.indexOf(p)>-1;var x=null!=b?b:a,y={key:p,panelKey:p,header:g,headerClass:h,isActive:C,prefixCls:r,destroyInactivePanel:null!=f?f:l,openMotion:d,accordion:o,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(i(e),null==v||v(e))},expandIcon:u,collapsible:x};return"string"==typeof e.type?e:(Object.keys(y).forEach((function(e){void 0===y[e]&&delete y[e]})),c.cloneElement(e,y))}(e,t,n)}))}function fe(e){var t=e;if(!Array.isArray(t)){var n=y(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var be=c.forwardRef((function(e,t){var n=e.prefixCls,r=void 0===n?"rc-collapse":n,o=e.destroyInactivePanel,a=void 0!==o&&o,l=e.style,i=e.accordion,s=e.className,p=e.children,m=e.collapsible,h=e.openMotion,f=e.expandIcon,b=e.activeKey,y=e.defaultActiveKey,S=e.onChange,E=e.items,w=u(r,s),O=v([],{value:b,onChange:function(e){return null==S?void 0:S(e)},defaultValue:y,postState:fe}),j=d(O,2),R=j[0],k=j[1];C(!p,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var N=he(E,p,{prefixCls:r,accordion:i,openMotion:h,expandIcon:f,collapsible:m,destroyInactivePanel:a,onItemClick:function(e){return k((function(){return i?R[0]===e?[]:[e]:R.indexOf(e)>-1?R.filter((function(t){return t!==e})):[].concat($(R),[e])}))},activeKey:R});return c.createElement("div",g({ref:t,className:w,style:l,role:i?"tablist":void 0},x(e,{aria:!0,data:!0})),N)}));const ve=Object.assign(be,{Panel:me});ve.Panel;const Ce=S.forwardRef(((e,t)=>{const{getPrefixCls:n}=S.useContext(E),{prefixCls:r,className:o,showArrow:a=!0}=e,l=n("collapse",r),i=u({[`${l}-no-arrow`]:!a},o);return S.createElement(ve.Panel,Object.assign({ref:t},e,{prefixCls:l,className:i}))})),xe=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:a,collapseHeaderPaddingSM:l,collapseHeaderPaddingLG:i,collapsePanelBorderRadius:s,lineWidth:c,lineType:d,colorBorder:u,colorText:p,colorTextHeading:m,colorTextDisabled:g,fontSizeLG:h,lineHeight:f,lineHeightLG:b,marginSM:v,paddingSM:C,paddingLG:x,paddingXS:y,motionDurationSlow:$,fontSizeIcon:S,contentPadding:E,fontHeight:w,fontHeightLG:O}=e,R=`${j(c)} ${d} ${u}`;return{[t]:Object.assign(Object.assign({},k(e)),{backgroundColor:o,border:R,borderBottom:0,borderRadius:s,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:R,"&:last-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`0 0 ${j(s)} ${j(s)}`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:m,lineHeight:f,cursor:"pointer",transition:`all ${$}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:w,display:"flex",alignItems:"center",paddingInlineEnd:v},[`${t}-arrow`]:Object.assign(Object.assign({},N()),{fontSize:S,svg:{transition:`transform ${$}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-icon-collapsible-only`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:p,backgroundColor:n,borderTop:R,[`& > ${t}-content-box`]:{padding:E},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:l,paddingInlineStart:y,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(C).sub(y).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:C}}},"&-large":{[`> ${t}-item`]:{fontSize:h,lineHeight:b,[`> ${t}-header`]:{padding:i,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:O,marginInlineStart:e.calc(x).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{[`> ${t}-content`]:{borderRadius:`0 0 ${j(s)} ${j(s)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:g,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:v}}}}})}},ye=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow svg`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},$e=e=>{const{componentCls:t,headerBg:n,paddingXXS:r,colorBorder:o}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${o}`},[`\n        > ${t}-item:last-child,\n        > ${t}-item:last-child ${t}-header\n      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:r}}}},Se=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},Ee=w("Collapse",(e=>{const t=O(e,{collapseHeaderPaddingSM:`${j(e.paddingXS)} ${j(e.paddingSM)}`,collapseHeaderPaddingLG:`${j(e.padding)} ${j(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[xe(t),$e(t),Se(t),ye(t),R(t)]}),(e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer}))),we=S.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:r,collapse:o}=S.useContext(E),{prefixCls:a,className:l,rootClassName:i,style:s,bordered:c=!0,ghost:d,size:p,expandIconPosition:m="start",children:g,expandIcon:h}=e,f=I((e=>{var t;return null!==(t=null!=p?p:e)&&void 0!==t?t:"middle"})),v=n("collapse",a),C=n(),[x,y,$]=Ee(v),w=S.useMemo((()=>"left"===m?"start":"right"===m?"end":m),[m]),O=u(`${v}-icon-position-${w}`,{[`${v}-borderless`]:!c,[`${v}-rtl`]:"rtl"===r,[`${v}-ghost`]:!!d,[`${v}-${f}`]:"middle"!==f},null==o?void 0:o.className,l,i,y,$),j=Object.assign(Object.assign({},P(C)),{motionAppear:!1,leavedClassName:`${v}-content-hidden`}),R=S.useMemo((()=>g?b(g).map(((e,t)=>{var n,r;if(null===(n=e.props)||void 0===n?void 0:n.disabled){const n=null!==(r=e.key)&&void 0!==r?r:String(t),{disabled:o,collapsible:a}=e.props,l=Object.assign(Object.assign({},H(e.props,["disabled"])),{key:n,collapsible:null!=a?a:o?"disabled":void 0});return M(e,l)}return e})):null),[g]);return x(S.createElement(ve,Object.assign({ref:t,openMotion:j},H(e,["rootClassName"]),{expandIcon:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=h?h(e):S.createElement(z,{rotate:e.isActive?90:void 0});return M(t,(()=>({className:u(t.props.className,`${v}-arrow`)})))},prefixCls:v,className:O,style:Object.assign(Object.assign({},null==o?void 0:o.style),s)}),R))})),Oe=Object.assign(we,{Panel:Ce});var je=["b"],Re=["v"],ke=function(e){return Math.round(Number(e||0))},Ne=function(){A(t,D);var e=B(t);function t(n){return _(this,t),e.call(this,function(e){if(e&&"object"===y(e)&&"h"in e&&"b"in e){var t=e,n=t.b,r=m(t,je);return L(L({},r),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(n))}return T(t,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=ke(100*e.s),n=ke(100*e.b),r=ke(e.h),o=e.a,a="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),l="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?a:l}},{key:"toHsb",value:function(){var e=this.toHsv();"object"===y(this.originalInput)&&this.originalInput&&"h"in this.originalInput&&(e=this.originalInput);var t=e;t.v;var n=m(t,Re);return L(L({},n),{},{b:e.v,a:this.a})}}]),t}(),Ie=function(e){return e instanceof Ne?e:new Ne(e)},Pe=Ie("#1677ff"),He=function(e){var t=e.offset,n=e.targetRef,r=e.containerRef,o=e.color,a=e.type,l=r.current.getBoundingClientRect(),i=l.width,s=l.height,c=n.current.getBoundingClientRect(),d=c.width/2,u=c.height/2,p=(t.x+d)/i,m=1-(t.y+u)/s,g=o.toHsb(),h=p,f=(t.x+d)/i*360;if(a)switch(a){case"hue":return Ie(L(L({},g),{},{h:f<=0?0:f}));case"alpha":return Ie(L(L({},g),{},{a:h<=0?0:h}))}return Ie({h:g.h,s:p<=0?0:p,b:m>=1?1:m,a:g.a})},Me=function(e,t,n,r){var o=e.current.getBoundingClientRect(),a=o.width,l=o.height,i=t.current.getBoundingClientRect(),s=i.width,c=i.height,d=s/2,u=c/2,p=n.toHsb();if((0!==s||0!==c)&&s===c){if(r)switch(r){case"hue":return{x:p.h/360*a-d,y:-u/3};case"alpha":return{x:p.a/1*a-d,y:-u/3}}return{x:p.s*a-d,y:(1-p.b)*l-u}}},ze=function(e){var t=e.color,n=e.prefixCls,r=e.className,o=e.style,a=e.onClick,l="".concat(n,"-color-block");return c.createElement("div",{className:u(l,r),style:o,onClick:a},c.createElement("div",{className:"".concat(l,"-inner"),style:{background:t}}))};function Ae(e){var t=e.offset,n=e.targetRef,r=e.containerRef,o=e.direction,a=e.onDragChange,l=e.onDragChangeComplete,i=e.calculate,s=e.color,c=e.disabledDrag,u=S.useState(t||{x:0,y:0}),p=d(u,2),m=p[0],g=p[1],h=S.useRef(null),f=S.useRef(null),b=S.useRef({flag:!1});S.useEffect((function(){if(!1===b.current.flag){var e=null==i?void 0:i(r);e&&g(e)}}),[s,r]),S.useEffect((function(){return function(){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",f.current),h.current=null,f.current=null}}),[]);var v=function(e){var t=function(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}(e),l=t.pageX,i=t.pageY,s=r.current.getBoundingClientRect(),c=s.x,d=s.y,u=s.width,p=s.height,h=n.current.getBoundingClientRect(),f=h.width,b=h.height,v=f/2,C=b/2,x=Math.max(0,Math.min(l-c,u))-v,y=Math.max(0,Math.min(i-d,p))-C,$={x:x,y:"x"===o?m.y:y};if(0===f&&0===b||f!==b)return!1;g($),null==a||a($)},C=function(e){e.preventDefault(),v(e)},x=function(e){e.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",f.current),h.current=null,f.current=null,null==l||l()};return[m,function(e){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",f.current),c||(v(e),b.current.flag=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",x),document.addEventListener("touchmove",C),document.addEventListener("touchend",x),h.current=C,f.current=x)}]}var Be=function(e){var t=e.size,n=void 0===t?"default":t,r=e.color,o=e.prefixCls;return c.createElement("div",{className:u("".concat(o,"-handler"),p({},"".concat(o,"-handler-sm"),"small"===n)),style:{backgroundColor:r}})},_e=function(e){var t=e.children,n=e.style,r=e.prefixCls;return c.createElement("div",{className:"".concat(r,"-palette"),style:L({position:"relative"},n)},t)},Te=S.forwardRef((function(e,t){var n=e.children,r=e.offset;return c.createElement("div",{ref:t,style:{position:"absolute",left:r.x,top:r.y,zIndex:1}},n)})),Le=function(e){var t=e.color,n=e.onChange,r=e.prefixCls,o=e.onChangeComplete,a=e.disabled,l=S.useRef(),i=S.useRef(),s=S.useRef(t),u=W((function(e){var r=He({offset:e,targetRef:i,containerRef:l,color:t});s.current=r,n(r)})),p=Ae({color:t,containerRef:l,targetRef:i,calculate:function(e){return Me(e,i,t)},onDragChange:u,onDragChangeComplete:function(){return null==o?void 0:o(s.current)},disabledDrag:a}),m=d(p,2),g=m[0],h=m[1];return c.createElement("div",{ref:l,className:"".concat(r,"-select"),onMouseDown:h,onTouchStart:h},c.createElement(_e,{prefixCls:r},c.createElement(Te,{offset:g,ref:i},c.createElement(Be,{color:t.toRgbString(),prefixCls:r})),c.createElement("div",{className:"".concat(r,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},De=function(e){var t=e.colors,n=e.children,r=e.direction,o=void 0===r?"to right":r,a=e.type,l=e.prefixCls,i=S.useMemo((function(){return t.map((function(e,n){var r=Ie(e);return"alpha"===a&&n===t.length-1&&r.setAlpha(1),r.toRgbString()})).join(",")}),[t,a]);return c.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(i,")")}},n)},We=function(e){var t=e.gradientColors,n=e.direction,r=e.type,o=void 0===r?"hue":r,a=e.color,l=e.value,i=e.onChange,s=e.onChangeComplete,p=e.disabled,m=e.prefixCls,g=S.useRef(),h=S.useRef(),f=S.useRef(a),b=W((function(e){var t=He({offset:e,targetRef:h,containerRef:g,color:a,type:o});f.current=t,i(t)})),v=Ae({color:a,targetRef:h,containerRef:g,calculate:function(e){return Me(e,h,a,o)},onDragChange:b,onDragChangeComplete:function(){null==s||s(f.current,o)},direction:"x",disabledDrag:p}),C=d(v,2),x=C[0],y=C[1];return c.createElement("div",{ref:g,className:u("".concat(m,"-slider"),"".concat(m,"-slider-").concat(o)),onMouseDown:y,onTouchStart:y},c.createElement(_e,{prefixCls:m},c.createElement(Te,{offset:x,ref:h},c.createElement(Be,{size:"small",color:l,prefixCls:m})),c.createElement(De,{colors:t,direction:n,type:o,prefixCls:m})))};function Xe(e){return void 0!==e}var Fe=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const qe=S.forwardRef((function(e,t){var n=e.value,r=e.defaultValue,o=e.prefixCls,a=void 0===o?"rc-color-picker":o,l=e.onChange,i=e.onChangeComplete,s=e.className,m=e.style,h=e.panelRender,f=e.disabledAlpha,b=void 0!==f&&f,v=e.disabled,C=void 0!==v&&v,x=function(e,t){var n=t.defaultValue,r=t.value,o=S.useState((function(){var t;return t=Xe(r)?r:Xe(n)?n:e,Ie(t)})),a=d(o,2),l=a[0],i=a[1];return S.useEffect((function(){r&&i(Ie(r))}),[r]),[l,i]}(Pe,{value:n,defaultValue:r}),y=d(x,2),$=y[0],E=y[1],w=S.useMemo((function(){var e=Ie($.toRgbString());return e.setAlpha(1),e.toRgbString()}),[$]),O=u("".concat(a,"-panel"),s,p({},"".concat(a,"-panel-disabled"),C)),j={prefixCls:a,onChangeComplete:i,disabled:C},R=function(e,t){n||E(e),null==l||l(e,t)},k=c.createElement(c.Fragment,null,c.createElement(Le,g({color:$,onChange:R},j)),c.createElement("div",{className:"".concat(a,"-slider-container")},c.createElement("div",{className:u("".concat(a,"-slider-group"),p({},"".concat(a,"-slider-group-disabled-alpha"),b))},c.createElement(We,g({gradientColors:Fe,color:$,value:"hsl(".concat($.toHsb().h,",100%, 50%)"),onChange:function(e){return R(e,"hue")}},j)),!b&&c.createElement(We,g({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",w],color:$,value:$.toRgbString(),onChange:function(e){return R(e,"alpha")}},j))),c.createElement(ze,{color:$.toRgbString(),prefixCls:a})));return c.createElement("div",{className:O,style:m,ref:t},"function"==typeof h?h(k):k)})),Ke=c.createContext({}),Ge=c.createContext({}),{Provider:Ve}=Ke,{Provider:Ye}=Ge,Qe=(e,t)=>(null==e?void 0:e.replace(/[^\w/]/gi,"").slice(0,t?8:6))||"";let Ue=function(){function e(t){_(this,e),this.metaColor=new Ne(t),t||this.metaColor.setAlpha(0)}return T(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.getAlpha()<1,e?Qe(e,t):"";var e,t}},{key:"toHexString",value:function(){return 1===this.metaColor.getAlpha()?this.metaColor.toHexString():this.metaColor.toHex8String()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}}]),e}();const Ze=e=>e instanceof Ue?e:new Ue(e),Je=e=>Math.round(Number(e||0)),et=e=>Je(100*e.toHsb().a),tt=(e,t)=>{const n=e.toHsb();return n.a=t||1,Ze(n)},nt=e=>{let{prefixCls:t,value:n,colorCleared:r,onChange:o}=e;return c.createElement("div",{className:`${t}-clear`,onClick:()=>{if(n&&!r){const e=n.toHsb();e.a=0;const t=Ze(e);null==o||o(t)}}})};var rt,ot;(ot=rt||(rt={})).hex="hex",ot.rgb="rgb",ot.hsb="hsb";const at=e=>{let{prefixCls:t,min:n=0,max:r=100,value:o,onChange:a,className:l,formatter:i}=e;const s=`${t}-steppers`,[d,p]=S.useState(o);return S.useEffect((()=>{Number.isNaN(o)||p(o)}),[o]),c.createElement(de,{className:u(s,l),min:n,max:r,value:d,formatter:i,size:"small",onChange:e=>{o||p(e||0),null==a||a(e)}})},lt=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-alpha-input`,[a,l]=S.useState(Ze(n||"#000"));S.useEffect((()=>{n&&l(n)}),[n]);return c.createElement(at,{value:et(a),prefixCls:t,formatter:e=>`${e}%`,className:o,onChange:e=>{const t=a.toHsb();t.a=(e||0)/100;const o=Ze(t);n||l(o),null==r||r(o)}})},it=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,st=e=>it.test(`#${e}`),ct=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hex-input`,[a,l]=S.useState(null==n?void 0:n.toHex());S.useEffect((()=>{const e=null==n?void 0:n.toHex();st(e)&&n&&l(Qe(e))}),[n]);return c.createElement(X,{className:o,value:a,prefix:"#",onChange:e=>{const t=e.target.value;l(Qe(t)),st(Qe(t,!0))&&(null==r||r(Ze(t)))},size:"small"})},dt=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hsb-input`,[a,l]=S.useState(Ze(n||"#000"));S.useEffect((()=>{n&&l(n)}),[n]);const i=(e,t)=>{const o=a.toHsb();o[t]="h"===t?e:(e||0)/100;const i=Ze(o);n||l(i),null==r||r(i)};return c.createElement("div",{className:o},c.createElement(at,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:t,className:o,formatter:e=>Je(e||0).toString(),onChange:e=>i(Number(e),"h")}),c.createElement(at,{max:100,min:0,value:100*Number(a.toHsb().s),prefixCls:t,className:o,formatter:e=>`${Je(e||0)}%`,onChange:e=>i(Number(e),"s")}),c.createElement(at,{max:100,min:0,value:100*Number(a.toHsb().b),prefixCls:t,className:o,formatter:e=>`${Je(e||0)}%`,onChange:e=>i(Number(e),"b")}))},ut=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-rgb-input`,[a,l]=S.useState(Ze(n||"#000"));S.useEffect((()=>{n&&l(n)}),[n]);const i=(e,t)=>{const o=a.toRgb();o[t]=e||0;const i=Ze(o);n||l(i),null==r||r(i)};return c.createElement("div",{className:o},c.createElement(at,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:t,className:o,onChange:e=>i(Number(e),"r")}),c.createElement(at,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:t,className:o,onChange:e=>i(Number(e),"g")}),c.createElement(at,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:t,className:o,onChange:e=>i(Number(e),"b")}))},pt=[rt.hex,rt.hsb,rt.rgb].map((e=>({value:e,label:e.toLocaleUpperCase()}))),mt=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:o,onFormatChange:a,onChange:l}=e,[i,s]=v(rt.hex,{value:n,onChange:a}),d=`${t}-input`,u=S.useMemo((()=>{const e={value:r,prefixCls:t,onChange:l};switch(i){case rt.hsb:return c.createElement(dt,Object.assign({},e));case rt.rgb:return c.createElement(ut,Object.assign({},e));case rt.hex:default:return c.createElement(ct,Object.assign({},e))}}),[i,t,r,l]);return c.createElement("div",{className:`${d}-container`},c.createElement(se,{value:i,bordered:!1,getPopupContainer:e=>e,popupMatchSelectWidth:68,placement:"bottomRight",onChange:e=>{s(e)},className:`${t}-format-select`,size:"small",options:pt}),c.createElement("div",{className:d},u),!o&&c.createElement(lt,{prefixCls:t,value:r,onChange:l}))};var gt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const ht=()=>{const e=S.useContext(Ke),{prefixCls:t,colorCleared:n,allowClear:r,value:o,disabledAlpha:a,onChange:l,onClear:i,onChangeComplete:s}=e,d=gt(e,["prefixCls","colorCleared","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete"]);return c.createElement(c.Fragment,null,r&&c.createElement(nt,Object.assign({prefixCls:t,value:o,colorCleared:n,onChange:e=>{null==l||l(e),null==i||i()}},d)),c.createElement(qe,{prefixCls:t,value:null==o?void 0:o.toHsb(),disabledAlpha:a,onChange:(e,t)=>null==l?void 0:l(e,t,!0),onChangeComplete:s}),c.createElement(mt,Object.assign({value:o,onChange:l,prefixCls:t,disabledAlpha:a},d)))},ft=e=>e.map((e=>(e.colors=e.colors.map(Ze),e))),bt=(e,t)=>{const{r:n,g:r,b:o,a:a}=e.toRgb(),l=new Ne(e.toRgbString()).onBackground(t).toHsv();return a<=.5?l.v>.5:.299*n+.587*r+.114*o>192},vt=e=>{let{label:t}=e;return`panel-${t}`},Ct=e=>{let{prefixCls:t,presets:n,value:r,onChange:o}=e;const[a]=F("ColorPicker"),[,l]=q(),[i]=v(ft(n),{value:ft(n),postState:ft}),s=`${t}-presets`,d=S.useMemo((()=>i.reduce(((e,t)=>{const{defaultOpen:n=!0}=t;return n&&e.push(vt(t)),e}),[])),[i]),p=i.map((e=>{var n;return{key:vt(e),label:c.createElement("div",{className:`${s}-label`},null==e?void 0:e.label),children:c.createElement("div",{className:`${s}-items`},Array.isArray(null==e?void 0:e.colors)&&(null===(n=e.colors)||void 0===n?void 0:n.length)>0?e.colors.map(((e,n)=>c.createElement(ze,{key:`preset-${n}-${e.toHexString()}`,color:Ze(e).toRgbString(),prefixCls:t,className:u(`${s}-color`,{[`${s}-color-checked`]:e.toHexString()===(null==r?void 0:r.toHexString()),[`${s}-color-bright`]:bt(e,l.colorBgElevated)}),onClick:()=>{return t=e,void(null==o||o(t));var t}}))):c.createElement("span",{className:`${s}-empty`},a.presetEmpty))}}));return c.createElement("div",{className:s},c.createElement(Oe,{defaultActiveKey:d,ghost:!0,items:p}))},xt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=S.useContext(Ge);return Array.isArray(n)?c.createElement(Ct,{value:t,presets:n,prefixCls:e,onChange:r}):null};var yt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const $t=e=>{const{prefixCls:t,presets:n,panelRender:r,color:o,onChange:a,onClear:l}=e,i=yt(e,["prefixCls","presets","panelRender","color","onChange","onClear"]),s=`${t}-inner-content`,d=Object.assign({prefixCls:t,value:o,onChange:a,onClear:l},i),u=c.useMemo((()=>({prefixCls:t,value:o,presets:n,onChange:a})),[t,o,n,a]),p=c.createElement(c.Fragment,null,c.createElement(ht,null),Array.isArray(n)&&c.createElement(K,{className:`${s}-divider`}),c.createElement(xt,null));return c.createElement(Ve,{value:d},c.createElement(Ye,{value:u},c.createElement("div",{className:s},"function"==typeof r?r(p,{components:{Picker:ht,Presets:xt}}):p)))};var St=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Et=S.forwardRef(((e,t)=>{const{color:n,prefixCls:r,open:o,colorCleared:a,disabled:l,format:i,className:s,showText:d}=e,p=St(e,["color","prefixCls","open","colorCleared","disabled","format","className","showText"]),m=`${r}-trigger`,g=S.useMemo((()=>a?c.createElement(nt,{prefixCls:r}):c.createElement(ze,{prefixCls:r,color:n.toRgbString()})),[n,a,r]);return c.createElement("div",Object.assign({ref:t,className:u(m,s,{[`${m}-active`]:o,[`${m}-disabled`]:l})},p),g,d&&c.createElement("div",{className:`${m}-text`},"function"==typeof d?d(n):d?(()=>{const e=n.toHexString().toUpperCase(),t=et(n);switch(i){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return t<100?`${e.slice(0,7)},${t}%`:e}})():void 0))}));function wt(e){return void 0!==e}const Ot=(e,t)=>{const{defaultValue:n,value:r}=t,[o,a]=S.useState((()=>{let t;return t=wt(r)?r:wt(n)?n:e,Ze(t||"")}));return S.useEffect((()=>{r&&a(Ze(r))}),[r]),[o,a]},jt=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),Rt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:o,lineWidth:a,colorFillSecondary:l}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:o},jt("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",border:`${j(a)} solid ${l}`,borderRadius:"inherit"}})}},kt=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:o,colorPickerAlphaInputWidth:a,marginXXS:l,paddingXXS:i,controlHeightSM:s,marginXS:c,fontSizeIcon:d,paddingXS:u,colorTextPlaceholder:p,colorPickerInputNumberHandleWidth:m,lineWidth:g}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:o,[`${n}-input-number-input`]:{paddingInlineStart:i,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:m}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${j(a)}`,marginInlineStart:l},[`${t}-format-select${n}-select`]:{marginInlineEnd:c,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(l).equal(),fontSize:r,lineHeight:`${j(s)}`},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:o},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${j(u)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:j(e.calc(s).sub(e.calc(g).mul(2)).equal())},[`${n}-input-prefix`]:{color:p}}}}}},Nt=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:o,marginSM:a,colorBgElevated:l,colorFillSecondary:i,lineWidthBold:s,colorPickerHandlerSize:c,colorPickerHandlerSizeSM:d,colorPickerSliderHeight:u}=e;return{[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:a},[`${t}-handler`]:{width:c,height:c,border:`${j(s)} solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${i}`,"&-sm":{width:d,height:d}},[`${t}-slider`]:{borderRadius:e.calc(u).div(2).equal(),[`${t}-palette`]:{height:u},[`${t}-gradient`]:{borderRadius:e.calc(u).div(2).equal(),boxShadow:o},"&-alpha":jt(`${j(u)}`,e.colorFillSecondary),"&-hue":{marginBottom:a}},[`${t}-slider-container`]:{display:"flex",gap:a,marginBottom:a,[`${t}-slider-group`]:{flex:1,"&-disabled-alpha":{display:"flex",alignItems:"center",[`${t}-slider`]:{flex:1,marginBottom:0}}}}}},It=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:o,colorPickerPresetColorSize:a,fontSizeSM:l,colorText:i,lineHeightSM:s,lineWidth:c,borderRadius:d,colorFill:u,colorWhite:p,marginXXS:m,paddingXS:g,fontHeightSM:h}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:h,color:r,paddingInlineEnd:o}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:m},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${j(g)} 0`},"&-label":{fontSize:l,color:i,lineHeight:s},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(m).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:e.calc(a).add(e.calc(c).mul(4)).equal(),height:e.calc(a).add(e.calc(c).mul(4)).equal(),position:"absolute",top:e.calc(c).mul(-2).equal(),insetInlineStart:e.calc(c).mul(-2).equal(),borderRadius:d,border:`${j(c)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:u},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(a).div(13).mul(5).equal(),height:e.calc(a).div(13).mul(8).equal(),border:`${j(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:p,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:r}}}},Pt=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${j(e.controlOutlineWidth)} ${n}`,outline:0}),Ht=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Mt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:a,colorSplit:l,red6:i}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:o,border:`${j(a)} solid ${l}`,position:"relative",cursor:"pointer",overflow:"hidden"},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:a,top:0,display:"block",width:40,height:2,transformOrigin:"right",transform:"rotate(-45deg)",backgroundColor:i}})}},zt=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:o,colorWarningHover:a,colorErrorOutline:l,colorWarningOutline:i}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},Pt(e,n,l))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},Pt(e,r,i))}}},At=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:o,controlHeightXS:a,borderRadius:l,borderRadiusSM:i,borderRadiusXS:s,borderRadiusLG:c,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,height:n,borderRadius:c,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:l},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,height:r,borderRadius:i,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:s}}}},Bt=e=>{const{componentCls:t,colorPickerWidth:n,colorPrimary:r,motionDurationMid:o,colorBgElevated:a,colorTextDisabled:l,colorText:i,colorBgContainerDisabled:s,borderRadius:c,marginXS:d,marginSM:u,controlHeight:p,controlHeightSM:m,colorBgTextActive:g,colorPickerPresetColorSize:h,colorPickerPreviewSize:f,lineWidth:b,colorBorder:v,paddingXXS:C,fontSize:x,colorPrimaryHover:y,controlOutline:$}=e;return[{[t]:Object.assign({[`${t}-inner-content`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"flex",flexDirection:"column",width:n,"&-divider":{margin:`${j(u)} 0 ${j(d)}`},[`${t}-panel`]:Object.assign({},Nt(e))},Rt(e,f)),kt(e)),It(e)),Mt(e,h,{marginInlineStart:"auto",marginBottom:d})),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:p,height:p,borderRadius:c,border:`${j(b)} solid ${v}`,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:`all ${o}`,background:a,padding:e.calc(C).sub(b).equal(),[`${t}-trigger-text`]:{marginInlineStart:d,marginInlineEnd:e.calc(d).sub(e.calc(C).sub(b)).equal(),fontSize:x,color:i},"&:hover":{borderColor:y},[`&${t}-trigger-active`]:Object.assign({},Pt(e,r,$)),"&-disabled":{color:l,background:s,cursor:"not-allowed","&:hover":{borderColor:g},[`${t}-trigger-text`]:{color:l}}},Mt(e,m)),Rt(e,m)),zt(e)),At(e))},Ht(e))}]},_t=w("ColorPicker",(e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=O(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:18,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:8,colorPickerPreviewSize:e.calc(8).mul(2).add(n).equal()});return[Bt(r)]}));var Tt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Lt=e=>{const{value:t,defaultValue:n,format:r,defaultFormat:o,allowClear:a=!1,presets:l,children:i,trigger:s="click",open:d,disabled:p,placement:m="bottomLeft",arrow:g=!0,panelRender:h,showText:f,style:b,className:C,size:x,rootClassName:y,prefixCls:$,styles:w,disabledAlpha:O=!1,onFormatChange:j,onChange:R,onClear:k,onOpenChange:N,onChangeComplete:P,getPopupContainer:H,autoAdjustOverflow:M=!0,destroyTooltipOnHide:z}=e,A=Tt(e,["value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide"]),{getPrefixCls:B,direction:_,colorPicker:T}=S.useContext(E),L=S.useContext(G),D=null!=p?p:L,[,W]=q(),[X,F]=Ot(W.colorPrimary,{value:t,defaultValue:n}),[K,Z]=v(!1,{value:d,postState:e=>!D&&e,onChange:N}),[J,ee]=v(r,{value:r,defaultValue:o,onChange:j}),[te,ne]=S.useState(!1),re=B("color-picker",$),oe=S.useMemo((()=>et(X)<100),[X]),{status:ae}=c.useContext(V),le=I(x),ie=Y(re),[se,de,ue]=_t(re,ie),pe=u(y,ue,ie,{[`${re}-rtl`]:_}),me=u(Q(re,ae),{[`${re}-sm`]:"small"===le,[`${re}-lg`]:"large"===le},null==T?void 0:T.className,pe,C,de),ge=u(re,pe),he=S.useRef(!0),fe=e=>{he.current=!0;let t=Ze(e);O&&oe&&(t=tt(e)),null==P||P(t)},be={open:K,trigger:s,placement:m,arrow:g,rootClassName:y,getPopupContainer:H,autoAdjustOverflow:M,destroyTooltipOnHide:z},ve={prefixCls:re,color:X,allowClear:a,colorCleared:te,disabled:D,disabledAlpha:O,presets:l,panelRender:h,format:J,onFormatChange:ee,onChangeComplete:fe},Ce=Object.assign(Object.assign({},null==T?void 0:T.style),b);return se(c.createElement(ce,Object.assign({style:null==w?void 0:w.popup,overlayInnerStyle:null==w?void 0:w.popupOverlayInner,onOpenChange:e=>{he.current&&!D&&Z(e)},content:c.createElement(U,{override:!0,status:!0},c.createElement($t,Object.assign({},ve,{onChange:(e,r,o)=>{let a=Ze(e);(te||(null===t||!t&&null===n))&&(ne(!1),0===et(X)&&"alpha"!==r&&(a=tt(a))),O&&oe&&(a=tt(a)),o?he.current=!1:null==P||P(a),F(a),null==R||R(a,a.toHexString())},onChangeComplete:fe,onClear:()=>{ne(!0),null==k||k()}}))),overlayClassName:ge},be),i||c.createElement(Et,Object.assign({open:K,className:me,style:Ce,color:t?Ze(t):X,prefixCls:re,disabled:D,colorCleared:te,showText:f,format:J},A))))},Dt=Z(Lt,"color-picker",(e=>e),(e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1})));Lt._InternalPanelDoNotUseOrYouWillBeFired=Dt;const Wt=Lt,Xt={"rnd-node-wrapper":"_rnd-node-wrapper_17f27_1",active:"_active_17f27_5",handler:"_handler_17f27_8","handler-n":"_handler-n_17f27_20","handler-e":"_handler-e_17f27_26","handler-s":"_handler-s_17f27_33","handler-w":"_handler-w_17f27_40","handler-ne":"_handler-ne_17f27_47","handler-nw":"_handler-nw_17f27_54","handler-se":"_handler-se_17f27_61","handler-sw":"_handler-sw_17f27_68"};var Ft=(e=>(e.n="top",e.e="right",e.s="bottom",e.w="left",e.nw="topLeft",e.ne="topRight",e.se="bottomRight",e.sw="bottomLeft",e))(Ft||{});const qt=e=>{const{element:t,children:n,handlers:r=["n","e","s","w","ne","nw","se","sw"],onChange:o}=e,{x:a=0,y:l=0,w:c=100,h:d=28}=t,p=S.useRef(null),m=`rndNode_${S.useId()}`,[g,h]=ae({x:a,y:l,width:c,height:d}),[f,b]=S.useState(t.active);S.useEffect((()=>{h((e=>{e.x=a,e.y=l,e.width=c,e.height=d}))}),[a,l,c,d]),S.useEffect((()=>{b(t.active)}),[t.active]),S.useEffect((()=>{"text"===t.type&&y({x:g.x,y:g.y})}),[t]),S.useEffect((()=>{null==o||o(s(i({},t),{x:g.x,y:g.y,w:g.width,h:g.height,active:f}))}),[f,g]),S.useEffect((()=>{const e=document.querySelector(".rnd-container")||document.documentElement;return e.addEventListener("mousedown",x,!1),()=>{e.removeEventListener("mousedown",x,!1)}}));const v=r.reduce(((e,t)=>(e[Ft[t]]=`${Xt.handler} ${Xt[`handler-${t}`]}`,e)),{}),C=r.reduce(((e,t)=>(e[Ft[t]]=!0,e)),{}),x=e=>{const t=e.target,n=document.getElementById(m);(null==n?void 0:n.contains(t))?!f&&b(!0):f&&b(!1)},y=e=>{var n,r;const o=document.getElementById(m);if(o&&"text"===t.type){const t=Math.ceil(null==(n=o.parentNode)?void 0:n.getBoundingClientRect().height),a=Math.ceil(o.querySelector(".rich-text-input").getBoundingClientRect().height);e.y+a>=t&&(h((e=>{e.y=t-a})),null==(r=p.current)||r.updatePosition({y:g.y})),o.style.height=`${a}px`,h((e=>{e.height=a}))}};return J.jsx(le,{ref:p,id:m,default:i({},g),minWidth:80,minHeight:24,bounds:"parent",enableResizing:i({},C),resizeHandleClasses:i({},v),className:u(Xt["rnd-node-wrapper"],{[Xt.active]:f}),onResize:(e,n,r,o,a)=>{"text"===t.type&&y(a)},onResizeStop:(e,n,r,o,a)=>{h((e=>{e.width=r.offsetWidth,e.height=r.offsetHeight,e.x=a.x,e.y=a.y})),"text"===t.type&&y(a)},onDragStop:(e,t)=>{h((e=>{e.x=t.x,e.y=t.y}))},children:n})};const Kt=({value:e="请输入文本",style:t={},hasBorder:n=!1,onChange:r})=>{const o=S.useMemo((()=>i(i({minHeight:"20px",padding:"6px 8px",outline:"none",wordBreak:"break-all"},n?{border:"1px solid #d9d9d9",borderRadius:"6px"}:{}),t)),[t]),{run:a}=ie((e=>{r(e.target.innerHTML)}),{wait:200});return J.jsx("div",{dangerouslySetInnerHTML:{__html:e},className:"rich-text-input",style:i({},o),contentEditable:!0,spellCheck:"false",onPaste:e=>{e.preventDefault();const t=function(e){const t=e.clipboardData||window.clipboardData;let n="";return t&&t.getData&&(n=t.getData("text/plain")),n}(e);r(t),setTimeout((()=>{!function(e){if(window.getSelection){e.focus();const t=window.getSelection();null==t||t.selectAllChildren(e),null==t||t.collapseToEnd()}else if(document.selection){const t=document.selection.createRange();t.moveToElementText(e),t.collapse(!1),t.select()}}(e.target)}),0)},onInput:a})},Gt=[{key:"left",label:"左对齐"},{key:"center",label:"居中"},{key:"right",label:"右对齐"}],Vt=({textValue:e,textStyles:t={},onChangeValue:n,onChangeStyles:r})=>{const o=(e,n)=>{let o="";switch(e){case"fontWeight":o=n?"":"bold";break;case"fontStyle":o=n?"":"italic";break;case"textShadow":o=n?"":"1px 1px 1px #333"}null==r||r(s(i({},t),{[e]:o||""}))};return J.jsxs(ee,{colon:!1,labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",style:{width:"300px",margin:"0 auto"},children:[J.jsx(ee.Item,{label:"文本",children:J.jsx(Kt,{value:e,hasBorder:!0,onChange:e=>n(e)})}),J.jsx(ee.Item,{label:"字体",children:J.jsx(se,{value:t.fontFamily,onChange:e=>null==r?void 0:r(s(i({},t),{fontFamily:e})),children:["黑体","宋体","楷体","隶书","微软雅黑","华文行楷","方正姚体"].map((e=>J.jsx(se.Option,{value:e,style:{fontFamily:e},children:e},e)))})}),J.jsx(ee.Item,{label:"字号",children:J.jsx(se,{value:t.fontSize,onChange:e=>null==r?void 0:r(s(i({},t),{fontSize:e,lineHeight:e})),children:[12,14,16,20,24,32,48].map((e=>J.jsx(se.Option,{value:e+"px",style:{fontSize:e+"px"},children:e+"px"},e)))})}),J.jsx(ee.Item,{label:"样式",children:J.jsxs(te,{size:6,children:[J.jsx(Wt,{onChange:(e,n)=>null==r?void 0:r(s(i({},t),{color:n})),children:J.jsx(ne,{icon:J.jsx(re,{name:"color-font",size:20}),style:{color:t.color}})}),J.jsx(Wt,{onChange:(e,n)=>null==r?void 0:r(s(i({},t),{backgroundColor:n})),children:J.jsx(ne,{icon:J.jsx(re,{name:"color-bg",size:20}),style:{color:t.backgroundColor}})}),J.jsx(ne,{icon:J.jsx(re,{name:"font-bold",size:20}),style:{color:t.fontWeight?"#1890ff":""},onClick:()=>o("fontWeight",t.fontWeight)}),J.jsx(ne,{icon:J.jsx(re,{name:"font-italic",size:20}),style:{color:t.fontStyle?"#1890ff":""},onClick:()=>o("fontStyle",t.fontStyle)}),J.jsx(ne,{icon:J.jsx(re,{name:"font-shadow",size:20}),style:{color:t.textShadow?"#1890ff":""},onClick:()=>o("textShadow",t.textShadow)}),J.jsx(oe,{menu:{items:Gt,selectedKeys:[t.textAlign],onClick:({key:e})=>{null==r||r(s(i({},t),{textAlign:e}))}},placement:"bottomRight",trigger:["click"],children:J.jsx(ne,{icon:J.jsx(re,{name:"font-align",size:20})})})]})})]})};export{qt as R,Kt as a,Vt as b};
