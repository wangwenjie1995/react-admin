import{r as e,U as s,a as i,j as t,P as l,b as r,R as a,C as n,c as p,B as d,d as o,M as c}from"./index-2823d128.js";import{C as u}from"./CloudUploadOutlined-173f3061.js";import{U as j}from"./index-5c1414bf.js";import"./useForceUpdate-976bebe5.js";import"./DeleteOutlined-1f1b12fc.js";import"./CheckOutlined-5882b4c5.js";const h=()=>{const{Dragger:h}=j,[g,m]=e.useState(!1),[x,b]=e.useState(""),[f,v]=e.useState(""),[y,w]=e.useState([{uid:"-1",name:"beautiful-girl.jpg",status:"done",url:s,thumbUrl:s},{uid:"-2",name:"beautiful-sunshine.jpg",status:"done",url:i,thumbUrl:i}]),S=e=>new Promise(((s,i)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>s(t.result),t.onerror=e=>i(e)}));return t.jsx(l,{plugin:r,children:t.jsxs(a,{gutter:12,children:[t.jsx(n,{span:8,children:t.jsx(p,{title:"拖拽上传",bordered:!1,bodyStyle:{height:"300px"},children:t.jsxs(h,{defaultFileList:[{uid:"-1",name:"beautiful-girl.jpg"},{uid:"-2",name:"beautiful-sunshine.jpg"}],action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",multiple:!0,children:[t.jsx("p",{className:"ant-upload-drag-icon",style:{marginBottom:0},children:t.jsx(u,{rev:void 0})}),t.jsxs("p",{children:["将图片拖到此处, 或",t.jsx("span",{style:{color:"#1890ff"},children:"点击上传"})]}),t.jsx("p",{className:"ant-upload-hint",children:"只能上传jpg、jpeg、gif、png、bmp文件, 且不超过500kb"})]})})}),t.jsx(n,{span:8,children:t.jsx(p,{title:"列表样式",bordered:!1,bodyStyle:{height:"300px"},children:t.jsxs(j,{defaultFileList:[...y],action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",listType:"picture",className:"list-upload",children:[t.jsxs(d,{type:"primary",children:[t.jsx(u,{rev:void 0}),t.jsx("span",{children:"点击上传"})]}),t.jsx("p",{className:"ant-upload-hint",children:"只能上传jpg、jpeg、gif、png、bmp文件, 且不超过500kb"})]})})}),t.jsxs(n,{span:8,children:[t.jsx(p,{title:"照片墙",bordered:!1,bodyStyle:{height:"300px"},children:t.jsx(j,{fileList:y,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",listType:"picture-card",className:"list-upload",onPreview:e=>{return s=void 0,i=null,t=function*(){e.url||e.preview||(e.preview=yield S(e.originFileObj)),b(e.url||e.preview),m(!0),v(e.name||e.url.substring(e.url.lastIndexOf("/")+1))},new Promise(((e,l)=>{var r=e=>{try{n(t.next(e))}catch(s){l(s)}},a=e=>{try{n(t.throw(e))}catch(s){l(s)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,a);n((t=t.apply(s,i)).next())}));var s,i,t},onChange:({fileList:e})=>w(e),children:t.jsxs("div",{children:[t.jsx(o,{rev:void 0}),t.jsx("div",{style:{marginTop:"8px"},children:"点击上传"})]})})}),t.jsx(c,{open:g,title:f,footer:null,onCancel:()=>{m(!1),v("")},children:t.jsx("img",{src:x,style:{width:"100%"}})})]})]})})};export{h as default};
